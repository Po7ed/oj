#include <bits/stdc++.h>
#define int long long

using namespace std;

int qpow(int x, int exp, int m) {
	int res = 1;
	while (exp) {
		if (exp & 1)
			res = res * x % m;
		x = x * x % m;
		exp >>= 1;
	} return res;
}

int sum(int x, int exp, int m) {
	if (!exp)
		return 1;
	if (exp & 1)
		return (1 + qpow(x, (exp + 1) / 2, m)) * sum(x, (exp - 1) / 2, m) % m;
	return ((1 + qpow(x, exp / 2, m)) * sum(x, exp / 2 - 1, m) + qpow(x, exp, m)) % m;
}

signed main() {
	freopen("genshin.in", "r", stdin);
	freopen("genshin.out", "w", stdout);
	int a, k, m;
	cin >> a >> k >> m;
	return cout << sum(a, k, m), 0;
}